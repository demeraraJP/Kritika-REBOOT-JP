# はじめに

ここではオプションファイルの編集方法を紹介します。  
オプションファイルは、ゲーム内では設定できないようなことまで設定できるので編集方法を知っていると何かと便利です。

※PCが不慣れな人にとっては若干高度な内容になるかもしれません。何度読んでもわからないような場合は、触らない方が賢明です。  
※万が一この方法を利用したことにより何かしらの損害が発生したとしてもdemeraraJPは一切責任を負いません。全て自己責任でお願いします。  
※この方法は韓国でサービスが開始された当初から利用されているもので、運営も公式の掲示板で認めた合法な手段です。自身も日本サービスの際に運営に直接確認しましたが、オプションファイルの編集は問題ないとの返答を頂いています。スクリプトを書き換えたり、ショップポイントを不正に得るようなチートやハッキングの類ではありません。あくまでオプションの変更が目的です。それでも気になるような方は読まないでください。

# 警告
2020/03/04のアップデート以降、オプションファイルを変更して使っている一部のプレイヤーにゲームプレイに支障をきたす不具合が発生するようになりました。運営からも、「オプションファイルを変更して使用すると予期せぬ不具合が発生する可能性があるため、オプションファイルを変更する行為は今すぐ中止してください。」とのアナウンスがありました。  
自身も右クリックの挙動が怪しくなってきたため、一度全ての個別に設定したオプションファイルを削除し、ゲーム内でキー設定を初期化、再設定後再び大元のオプションファイル(option.xml)にてアイテム自動習得の設定だけ変更して使用しています。とりあえずこれでしばらく様子を見ます。  
恐らくアプデの度にこの部分は初期化されるため、同じ設定をし直すことになると思います。  
このページに載せていた項目３と４を削除しました。


## テキストエディタの導入

以下に記す編集方法は基本的にメモ帳でも出来ますが、テキストエディタがあると作業がスムーズに行なえます。  
テキストエディタは簡単に言うと高機能な文章編集ソフトです。プログラマーなんかがコードを書いたりするのに使うイメージですが、文章を編集する際にもとても便利なのでよかったら使ってみてください。  
「notepad++」や「サクラエディタ」が軽量な上に無料で使えるのでおすすめです。

とりあえずメモ帳でやってみて、大変だなと思ったら調べてみるといいかもしれません。

## ゲームフォルダを開く

ゲームフォルダは Steam のライブラリで、左に並んでるタイトルのKritikaREBOOT を右クリック -> [管理] -> [ローカルファイルを閲覧] で、一発で開けます。


# 目次

1.[文字のサイズを大きくする](#1文字のサイズを大きくする)  
2.[アイテムを自動で拾う](#2アイテムを自動で拾う)  
3.[一度のクリックで二回分クリックしたことにする](#3一度のクリックで二回分クリックしたことにする)  
4.[無限通常攻撃](#4無限通常攻撃)


## 1.文字のサイズを大きくする

英語フォントは日本語フォントに比べてどうしても文字が小さく見えます。  
小さくて読めないという人は、ゲームフォルダの中にあるテキストファイルをメモ帳等で開いてフォントサイズを書き換えることで、文字の大きさを変えることができます。

先ずはゲームフォルダを開きます。
`resource -> Common -> database` と順に開いていきます。(パス"C:\Program Files (x86)\Steam\steamapps\common\Kritika\resource\Common\database")

_database_ フォルダの中にある **FontConfig_en-EN.txt** というテキストファイルを右クリックして、[メモ帳で開く]を選択。表示されない場合は、[その他のプログラムで開く]から[メモ帳]を探してください。

※PCのスペックが低い場合、データが若干大きいためにメモ帳がフリーズしたりクラッシュして開けないことがあります。その場合は、[テキストエディタの導入](#テキストエディタの導入)を検討してみてください。  
※日本語のテキストは **FontConfig_ja-JP.txt** です。

さて、メモ帳やテキストエディタ等で **FontConfig_en-EN.txt** を開いたら、上から 3 行目にある

`map "$NormalFont" = "Ubuntu Condensed" Normal 1`

という項目の最後の数字を書き換えます。  
1 が標準の大きさで、1.1 にすると 10%大きくなります。1.1~1.5 くらいまでの好きな数字に書き換えてください。おすすめは 1.2 です。1.3 以上になると文字がはみ出すようになります。

それで、

`map "$NormalFont" = "Ubuntu Condensed" Normal 1.2`

という風に書き換えられたらファイルを上書き保存(Ctrl+S)してファイルを閉じてください。

注意：数字は必ず半角で入力してください。全角だと認識してくれません。


## 2.アイテムを自動で拾う

ペットがいるから関係ないや  
と思うかもしれませんが、ペットがいても F キーを押すと素早くアイテムが拾えるのです。  
その F キーを前進キー(W)に割り当てて一度でも前進するとアイテム自動拾得機能をオンにし、指を離しても自動的に素早くアイテムが拾えるようにするテクニックです。

先ずはゲームフォルダを開きます。

次にその場所にある **option.xml** をコピー(Ctrl+C)して同じ場所に複製(Ctrl+V)します。

- option.xml
- option\_コピー.xml

次に、ファイル名の"コピー"の部分を効果を適用させたい自身のキャラクター名に書き換えます。  
ファイル名は、`option[半角アンダーバー][キャラクター名].xml` となります。

- option.xml
- option_Demerara.xml

書き換え終わったら、そのリネームしたファイルを右クリックしてメモ帳で開きます。

ファイルが開いたら、検索機能(Ctrl+F)で"pick"を検索します。

すると次のブロックが見つかると思います。

```xml
<item type="Apple::InputCommandItem">
    <key type="wstring" value="F" />
    <name type="wstring" value="InGamePage.BeginPickUpItem" />
    <state type="wstring" value="press" />
    <activeState type="wstring" value="" />
    <withKey type="wstring" value="" />
</item>
<item type="Apple::InputCommandItem">
    <key type="wstring" value="F" />
    <name type="wstring" value="InGamePage.EndPickUpItem" />
    <state type="wstring" value="release" />
    <activeState type="wstring" value="" />
    <withKey type="wstring" value="" />
</item>
```

上のブロックは、F キーを押している間(press)、アイテムを拾う(InGamePage.BeginPickUpItem)というコードで、下のブロックは、F キーを離した(release)とき、アイテムを拾うことをやめる(InGamePage.EndPickUpItem)というコードです。

この上のブロックの`<key type="wstring" value="F" />`の F を W に書き換えます。

そして下のブロックにもある同じ`<key type="wstring" value="F" />`の F を F4 にします。

```xml
<item type="Apple::InputCommandItem">
    <key type="wstring" value="W" />
    <name type="wstring" value="InGamePage.BeginPickUpItem" />
    <state type="wstring" value="press" />
    <activeState type="wstring" value="" />
    <withKey type="wstring" value="" />
</item>
<item type="Apple::InputCommandItem">
    <key type="wstring" value="F4" />
    <name type="wstring" value="InGamePage.EndPickUpItem" />
    <state type="wstring" value="release" />
    <activeState type="wstring" value="" />
    <withKey type="wstring" value="" />
</item>
```

これで前進キー(W)を一度でも押すと、ずっと W を押し続けている状態になり自動でアイテムを拾うようになります。  
そして、この状態を解除するためのキーを F4 に設定しました。つまり、リスタートするたびにこの自動拾得機能を解除します。  
こうしないとリスタート直後にアイテムを拾うコマンドが動き続けるために、"Cannot pick up items."(アイテムを拾えません)というエラーログが大量に流れることになります。

と、思ったんですがこれだとポータル移動で別のステージ入った場合、エラーログが流れてしまうので自分はアイテム修理の F1 に設定しました。

ここまではよかったんですが、問題は死んでしまったときです。KRITIKAでは何故か死んだ時も入力を受け付け、それが実行できないためにエラーログが流れます。復活待機時間があるとその間ずーっと流れ続けます。"Unable to find player to pick up items" や "Cannot recieve items when dead" のように、死んだ状態ではアイテムを受け取れないという旨のメッセージが永遠に流れてしまいます。

これを止めるには、先程設定した F1 を押せばいいのですが、いちいち押すのも面倒くさいので自分はエラーメッセージ自体を消してしまいました。ただし、この方法は KRITIKA 自体のコンテンツを削除する行為にあたるため、かなりグレーだと思ってます。なのでここではその方法のヒントだけ書くことにします。

※ヒント：[文字のサイズを大きくする](#1文字のサイズを大きくする)で使用したファイルは、韓国語を英語に翻訳したテキストファイルです。ここに書かれている文章がゲーム中に表示されるようになっています。コードは全て一緒で、`tr "(スクリプト)" = "(ゲーム中に表示される文章)"` となっています。このコード自体を消してしまうと、スクリプトが直接表示されてしまうのでいただけないです。

ファイルを上書き保存(Ctrl+S)してメモ帳を閉じたら完成です。

全てのキャラクターに適用させるためには、完成したファイルをコピペでキャラクターの数だけ増やして、それぞれのキャラクター名にリネームするだけです。

※キャラクターの Lv が 15 以上じゃないと適用されません。  
※03/04追記：アプデの度に大元のオプションファイルに変更があるため、その度に大元のファイルからコピーし直す必要があります。自分は個別の設定ファイルを全て削除して、大元のファイルにのみこの変更を施すことにしました。アプデの度に再設定する必要はありますが、不具合を回避するためなので仕方ありません。
